<html>
<head>
<title>fbc command-line</title>
<link rel="stylesheet" type="text/css" href="style.css">
<meta charset="UTF-8">
</head>
<body>
<div id="fb_body_wrapper">
<div id="fb_tab">
<div id="fb_tab_l">fbc command-line</div>
<div id="fb_tab_r">&nbsp;<a href="00index.html"><img src="images/fblogo_mini.gif" /></a></div> 
</div> 
<div id="fb_pg_wrapper">
<div id="fb_pg_body">
	Using the <b>fbc</b> command-line.<br \>
<br \>
<div class="fb_indent">The official FreeBASIC distribution comes with <b>fbc</b>, FreeBASIC's flagship compiler. <b>fbc</b> is a command line compiler, and can be launched from the console - from DOS, the Windows command prompt or a Linux shell. Running <b>fbc</b> from the console without any arguments displays a list of available options, or command-line switches, that can be used to adjust the behavior of the compiler.<br \>
<br \>
At its simplest, <b>fbc</b> takes a source file as a command-line argument and produces an executable file. It does this by compiling the source file (.bas) into an assembly (.asm) file, then compiling this into an object file (.o) using GAS and finally linking using LD this object file to other object files and libraries it needs to run, producing the final executable file. The assembly and compiled object files are deleted at this point by default. For example, the following command,<br \>
<br \>
<div class="fb_indent"><tt>fbc foo.bas</tt><br \>
</div>produces the executable <tt>foo.exe</tt> in DOS and Windows, and <tt>./foo</tt> in Linux. <b>fbc</b> can accept multiple source files at once, compile and link them all into one executable. For example, the following command,<br \>
<br \>
<div class="fb_indent"><tt>fbc foo.bas bar.bas baz.bas</tt><br \>
</div>produces the executable <tt>foo.exe</tt> in DOS and Windows, and <tt>./foo</tt> in Linux. Since <tt>foo.bas</tt> was listed first, it will be the main entry point into the executable, and also provide its name. To specify a different entry point or executable name, use the "-m" and "-x" switches, respectively. To have, for example, <tt>baz.bas</tt> provide the main entry point into an executable called <tt>foobar.exe</tt>, you would use<br \>
<br \>
<div class="fb_indent"><tt>fbc -x foobar.exe -m baz foo.bas bar.bas baz.bas</tt><br \>
</div>The "-x" switch names the executable verbatim, so in Linux, the executable produced from the above command would be called <tt>./foobar.exe</tt>.<br \>
<br \>
</div><div class="fb_sect_title">Syntax</div><div class="fb_sect_cont"><br \>
<div class="fb_indent"><tt>fbc [ <i>options</i> ] [ <i>input_list</i> ]</tt><br \>
<br \>
Where <i>input_list</i> is a list of filenames. Accepted files are:<br \>
<br \>
<div class="fb_indent"><div class="fb_table"><table><tr><td>File extension</td><td>Description</td></tr><tr><td>.bas</td><td>FreeBASIC source file</td></tr><tr><td>.a</td><td>Library</td></tr><tr><td>.o</td><td>Object file</td></tr><tr><td>.rc</td><td>Resource script (Windows only)</td></tr><tr><td>.res</td><td>Compiled resource (Windows only)</td></tr><tr><td>.xpm</td><td>X icon pixmap (Linux only)</td></tr></table></div><br \>
<br \>
</div></div><table class="fb_box"><tr><td><b><u>Source code</u></b><br \>
<div class="fb_indent"><b><a href="CompilerOptb.html">-b &lt; name &gt;</a></b><br \>
<div class="fb_indent">Add a source file to compilation<br \>
</div><b><a href="CompilerOpti.html">-i &lt; name &gt;</a></b><br \>
<div class="fb_indent">Add a path to search for include files<br \>
</div><b><a href="CompilerOptinclude.html">-include &lt; name &gt;</a></b><br \>
<div class="fb_indent">Include a header file on each source compiled<br \>
</div><b><a href="CompilerOptd.html">-d &lt; name=val &gt;</a></b><br \>
<div class="fb_indent">Add a preprocessor's define<br \>
</div><b><a href="CompilerOptlang.html">-lang &lt; name &gt;</a></b><br \>
<div class="fb_indent">Select language mode: <tt>fb</tt>, <tt>fblite</tt>, <tt>qb</tt>, <tt>deprecated</tt><br \>
</div><b><a href="CompilerOptforcelang.html">-forcelang &lt; name &gt;</a></b><br \>
<div class="fb_indent">Select language mode: <tt>fb</tt>, <tt>fblite</tt>, <tt>qb</tt>, <tt>deprecated</tt> (overrides statements in code)<br \>
<br \>
</div></div><b><u>Code generation</u></b><br \>
<div class="fb_indent"><b><a href="CompilerOpttarget.html">-target &lt; platform &gt;</a></b><br \>
<div class="fb_indent">Set the target platform for cross compilation<br \>
</div><b><a href="CompilerOptgen.html">-gen &lt; backend &gt;</a></b><br \>
<div class="fb_indent">Sets the compiler backend (default is 'gas' for x86 and 'gcc' for x86_64)<br \>
</div><b><a href="CompilerOptasm.html">-asm &lt; format &gt;</a></b><br \>
<div class="fb_indent">Sets the assembler format for Asm block<br \>
</div><b><a href="CompilerOptarch.html">-arch &lt; type &gt;</a></b><br \>
<div class="fb_indent">Set target architecture (default: <tt>486</tt>)<br \>
</div><b><a href="CompilerOptoptimization.html">-O &lt; level &gt;</a></b><br \>
<div class="fb_indent">Set the optimization level (-gen gcc)<br \>
</div><b><a href="CompilerOptvec.html">-vec &lt; level &gt;</a></b><br \>
<div class="fb_indent">Set level of vector optimizations enabled by the compiler (default: <tt>0</tt>)<br \>
</div><b><a href="CompilerOptfpu.html">-fpu &lt; type &gt;</a></b><br \>
<div class="fb_indent">Set the floating point arithmetics unit (default: <tt>FPU</tt>)<br \>
</div><b><a href="compileroptfpmode.html">-fpmode &lt; type &gt;</a></b><br \>
<div class="fb_indent">Select between fast and accurate floating-point operations (default: <tt>PRECISE</tt>)<br \>
</div><b><a href="CompilerOptz.html">-z &lt; value &gt;</a></b><br \>
<div class="fb_indent">Sets miscellaneous or experimental options<br \>
</div><b><a href="CompilerOptpic.html">-pic</a></b><br \>
<div class="fb_indent">Generate position-independent code (non-x86 Unix shared libs)<br \>
<br \>
</div></div><b><u>Compilation</u></b><br \>
<div class="fb_indent"><b><a href="CompilerOptm.html">-m &lt; name &gt;</a></b><br \>
<div class="fb_indent">Define main file (without extension), the entry point (default is the first .bas file on the command line)<br \>
</div><b><a href="CompilerOptentry.html">-entry &lt; name &gt;</a></b><br \>
<div class="fb_indent">Override public exported name of implicit user main function<br \>
</div><b><a href="CompilerOptg.html">-g</a></b><br \>
<div class="fb_indent">Add debug info<br \>
</div><b><a href="CompilerOptprofile.html">-profile</a></b><br \>
<div class="fb_indent">Enable function profiling<br \>
</div><b><a href="CompilerOpte.html">-e</a></b><br \>
<div class="fb_indent">Add error checking<br \>
</div><b><a href="CompilerOptex.html">-ex</a></b><br \>
<div class="fb_indent">Add error checking with RESUME support<br \>
</div><b><a href="CompilerOptexx.html">-exx</a></b><br \>
<div class="fb_indent">Same as <tt>-ex</tt>, plus array bounds, null-pointer, and error location reporting<br \>
</div><b><a href="CompilerOptWa.html">-Wa &lt; opt &gt;</a></b><br \>
<div class="fb_indent">Pass options to GAS (separated by commas)<br \>
</div><b><a href="CompilerOptWc.html">-Wc &lt; opt &gt;</a></b><br \>
<div class="fb_indent">Pass options to GCC (separated by commas)<br \>
</div><b><a href="CompilerOpto.html">-o &lt; name &gt;</a></b><br \>
<div class="fb_indent">Set object file path/name (must be passed after the .bas file)<br \>
<br \>
</div></div></td><td><b><u>Linking</u></b><br \>
<div class="fb_indent"><b><a href="CompilerOpta.html">-a &lt; name &gt;</a></b><br \>
<div class="fb_indent">Add an object file to linker's list<br \>
</div><b><a href="CompilerOptl.html">-l &lt; name &gt;</a></b><br \>
<div class="fb_indent">Add a library file to linker's list<br \>
</div><b><a href="CompilerOptp.html">-p &lt; name &gt;</a></b><br \>
<div class="fb_indent">Add a path to search for libraries<br \>
</div><b><a href="CompilerOptmt.html">-mt</a></b><br \>
<div class="fb_indent">Link with thread-safe runtime library<br \>
</div><b><a href="CompilerOptnodeflibs.html">-nodeflibs</a></b><br \>
<div class="fb_indent">Do not include the default libraries<br \>
</div><b><a href="CompilerOptstatic.html">-static</a></b><br \>
<div class="fb_indent">Prefer static libraries over dynamic ones when linking<br \>
</div><b><a href="CompilerOptmap.html">-map &lt; name &gt;</a></b><br \>
<div class="fb_indent">Save the linking map to file name<br \>
</div><b><a href="CompilerOptWl.html">-Wl &lt; opt &gt;</a></b><br \>
<div class="fb_indent">Pass options to LD (separated by commas)<br \>
</div><b><a href="CompilerOptexport.html">-export</a></b><br \>
<div class="fb_indent">Export symbols for dynamic linkage<br \>
</div><b><a href="CompilerOptlib.html">-lib</a></b><br \>
<div class="fb_indent">Create a static library<br \>
</div><b><a href="CompilerOptdylib.html">-dylib</a></b><br \>
<div class="fb_indent">Create a DLL, including the import library<br \>
</div><b><a href="CompilerOptdll.html">-dll</a></b><br \>
<div class="fb_indent">Create a DLL, including the import library.  (Same as <tt>-dylib</tt>)<br \>
</div><b><a href="CompilerOptx.html">-x &lt; name &gt;</a></b><br \>
<div class="fb_indent">Set executable/library path/name<br \>
<br \>
</div></div><b><u>Behaviour</u></b><br \>
<div class="fb_indent"><b><a href="CompilerOptprefix.html">-prefix &lt; path &gt;</a></b><br \>
<div class="fb_indent">Set the compiler prefix path<br \>
</div><b><a href="CompilerOptversion.html">-version</a></b><br \>
<div class="fb_indent">Show compiler version on the command line, do not compile or link<br \>
</div><b><a href="CompilerOptv.html">-v</a></b><br \>
<div class="fb_indent">Be verbose<br \>
</div><b><a href="CompilerOptprint.html">-print &lt; option &gt;</a></b><br \>
<div class="fb_indent">Display certain information (<tt>fblibdir</tt>, <tt>host</tt>, <tt>target</tt>, <tt>x</tt>)<br \>
</div><b><a href="CompilerOptpp.html">-pp</a></b><br \>
<div class="fb_indent">Emit the preprocessed input file only, do not compile<br \>
</div><b><a href="CompilerOptr.html">-r</a></b><br \>
<div class="fb_indent">Compile into intermediate file(s) only, do not assemble or link<br \>
</div><b><a href="CompilerOptrr.html">-rr</a></b><br \>
<div class="fb_indent">Compile into asm file(s) only, do not assemble or link<br \>
</div><b><a href="CompilerOptc.html">-c</a></b><br \>
<div class="fb_indent">Compile and assemble source file only, do not link<br \>
</div><b><a href="CompilerOptrupp.html">-R</a></b><br \>
<div class="fb_indent">Do not delete the intermediate file(s)<br \>
</div><b><a href="CompilerOptrrupp.html">-RR</a></b><br \>
<div class="fb_indent">Do not delete the asm file(s)<br \>
</div><b><a href="CompilerOptcupp.html">-C</a></b><br \>
<div class="fb_indent">Do not delete the object file(s)<br \>
</div><b><a href="CompilerOptw.html">-w &lt; value &gt;</a></b><br \>
<div class="fb_indent">Set min warning level: <tt>all</tt>, <tt>none</tt>, <tt>param</tt>, <tt>escape</tt>, <tt>pedantic</tt>, <tt>next</tt>, <tt>funcptr</tt>, <tt>constness</tt>, <tt>suffix</tt> or a value<br \>
</div><b><a href="CompilerOptmaxerr.html">-maxerr &lt; val &gt;</a></b><br \>
<div class="fb_indent">Only stop parsing if &lt;val&gt; errors occurred<br \>
</div><b><a href="CompilerOptnoerrline.html">-noerrline</a></b><br \>
<div class="fb_indent">Do not show source line where error occurred<br \>
</div><b><a href="CompilerOptnoobjinfo.html">-noobjinfo</a></b><br \>
<div class="fb_indent">Do not read/write compile-time info from/to .o and .a files<br \>
</div><b><a href="CompilerOptshowincludes.html">-showincludes</a></b><br \>
<div class="fb_indent">Display a tree of file names of #included files<br \>
<br \>
</div></div><b><u>Target specific</u></b><br \>
<div class="fb_indent"><b><a href="CompilerOpts.html">-s &lt; name &gt;</a></b><br \>
<div class="fb_indent">Set subsystem (<tt>gui</tt>, <tt>console</tt>)<br \>
</div><b><a href="CompilerOptt.html">-t &lt; value &gt;</a></b><br \>
<div class="fb_indent">Set stack size in kbytes (default: 1 MB or 2 MB)<br \>
<br \>
</div></div><b><u>Meta</u></b><br \>
<div class="fb_indent"><b><a href="CompilerOptoptfile.html">@&lt; file &gt;</a></b><br \>
<div class="fb_indent">Read (additional) command-line options from a file<br \>
<br \>
</div></div></td></tr></table><div style="clear:both">&nbsp;</div><br \>
</div><div class="fb_sect_title">Example</div><div class="fb_sect_cont"><br \>
<div class="fb_indent"><tt>fbc myfile.bas</tt><br \>
<div class="fb_indent"><i>(With DOS version of FBC, compile and link a DOS executable <tt>MYFILE.EXE</tt>.)</i><br \>
<br \>
</div><tt>fbc -s gui myfile.bas</tt><br \>
<div class="fb_indent"><i>(With Windows version of FBC, compile and link a Windows executable <tt>myfile.exe</tt>. Running the program will not show the console window ("MS-DOS Prompt"))</i><br \>
<br \>
</div><tt>fbc -lib module1.bas module2.bas module3.bas -x libmylib.a</tt><br \>
<div class="fb_indent"><i>(Compile and link a static library <tt>libmylib.a</tt> from the three source files)</i><br \>
<br \>
</div><tt>fbc -m main_module -c main_module.bas</tt><br \>
<div class="fb_indent"><i>(Compile an object file <tt>main_module.o</tt> and mark it as an entry point)</i><br \>
<br \>
</div><tt>fbc -c sub_module.bas</tt><br \>
<div class="fb_indent"><i>(Compile an object file <tt>sub_module.o</tt>)</i><br \>
<br \>
</div><tt>fbc -x application.exe main_module.o sub_module.o</tt><br \>
<div class="fb_indent"><i>(Link an executable <tt>application.exe</tt>)</i><br \>
<br \>
</div><b>Note:</b> How to include an icon in a FB executable program<br \>
<div class="fb_indent">There is a simple command line option to compile a FB program into an executable with an Icon:<br \>
<div class="fb_indent"><b>-</b> Create a *.rc file, for example appicon.rc, with this info:<br \>
<div class="fb_indent"><div class="fb_indent">FB_PROGRAM_ICON ICON "appicon.ico"<br \>
<div class="fb_indent">(where appicon.ico is the name of icon)<br \>
</div></div></div><b>-</b> Then when compiling program, add appicon.rc in the list of files to compile.<br \>
<br \>
</div></div></div></div><div class="fb_sect_title">See also</div><div class="fb_sect_cont"><br \>
<ul><li> <a href="CatPgCompOpt.html">Compiler Options</a><br \>
<li> <a href="CompilerInstalling.html">Installing FreeBASIC</a><br \>
<li> <a href="CompilerRunning.html">Invoking the FreeBASIC compiler</a><br \>
<li> <tt><a href="KeyPgPpcmdline.html">#Cmdline</a></tt><br \>
<br \>
</ul></div>
</div>
</div> 
</div> 
</body>
</html>
