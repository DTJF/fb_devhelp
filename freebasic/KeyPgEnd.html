<html>
<head>
<title>End (Statement)</title>
<link rel="stylesheet" type="text/css" href="style.css">
<meta charset="UTF-8">
</head>
<body>
<div id="fb_body_wrapper">
<div id="fb_tab">
<div id="fb_tab_l">End (Statement)</div>
<div id="fb_tab_r">&nbsp;<a href="00index.html"><img src="images/fblogo_mini.gif" /></a></div> 
</div> 
<div id="fb_pg_wrapper">
<div id="fb_pg_body">
	Control flow statement to end the program.<br \>
<br \>
<div class="fb_sect_title">Syntax</div><div class="fb_sect_cont"><tt><br \>
<a href="KeyPgDeclare.html">Declare</a> <a href="KeyPgSub.html">Sub</a> <b>End</b> ( <a href="KeyPgByval.html">ByVal</a> <i>retval</i> <a href="KeyPgAs.html">As</a> <a href="KeyPgLong.html">Long</a> = 0 )<br \>
</tt><br \>
</div><div class="fb_sect_title">Usage</div><div class="fb_sect_cont"><tt><br \>
<b>End</b> [ <i>retval</i> ]<br \>
</tt><br \>
</div><div class="fb_sect_title">Parameters</div><div class="fb_sect_cont"><br \>
<tt><i>retval</i></tt><br \>
<div class="fb_indent">Error code returned to system.<br \>
<br \>
</div></div><div class="fb_sect_title">Description</div><div class="fb_sect_cont"><br \>
Used to exit the program, and return to the operating system. An optional integer return value can be specified to indicate an error code to the system. If no return value is given, a value of <tt>0</tt> is automatically returned at the end of the program.<br \>
<br \>
Usage of this statement does not cleanly close scope. Local variables will not have their destructors called automatically, because FreeBASIC does not do stack unwinding. Only the destructors of global variables will be called in this case.<br \>
<br \>
For this reason, it is discouraged to use <tt><b>End</b></tt> simply to mark the end of a program; the program will come to an end automatically, and in a cleaner fashion, when the last line of module-level code has executed.<br \>
<br \>
</div><div class="fb_sect_title">Example</div><div class="fb_sect_cont"><br \>
<tt><div class="freebasic">
<span class="com">''&nbsp;This&nbsp;program&nbsp;requests&nbsp;a&nbsp;string&nbsp;from&nbsp;the&nbsp;user,&nbsp;and&nbsp;returns&nbsp;an&nbsp;error</span><br />
<span class="com">''&nbsp;code&nbsp;to&nbsp;the&nbsp;OS&nbsp;if&nbsp;the&nbsp;string&nbsp;was&nbsp;empty</span><br />
<br />
<span class="key">Function</span>&nbsp;<span class="wrd">main</span><span class="oth">()</span>&nbsp;<span class="key">As</span>&nbsp;<span class="key">Integer</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;assign&nbsp;input&nbsp;to&nbsp;text&nbsp;string</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Dim</span>&nbsp;<span class="key">As</span>&nbsp;<span class="key">String</span>&nbsp;<span class="wrd">text</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Line</span>&nbsp;<span class="key">Input</span>&nbsp;<span class="quo">&quot;Enter&nbsp;some&nbsp;text&nbsp;(&nbsp;try&nbsp;&quot;&quot;abc&quot;&quot;&nbsp;):&nbsp;&quot;</span>&nbsp;<span class="oth">,</span>&nbsp;<span class="wrd">text</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;If&nbsp;string&nbsp;is&nbsp;empty,&nbsp;print&nbsp;an&nbsp;error&nbsp;message&nbsp;and</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;return&nbsp;error&nbsp;code&nbsp;1&nbsp;(failure)</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">If</span><span class="oth">(</span>&nbsp;<span class="wrd">text</span>&nbsp;<span class="oth">=</span>&nbsp;<span class="quo">&quot;&quot;</span>&nbsp;<span class="oth">)</span>&nbsp;<span class="key">Then</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Print</span>&nbsp;<span class="quo">&quot;ERROR:&nbsp;string&nbsp;was&nbsp;empty&quot;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Return</span>&nbsp;<span class="num">1</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">End</span>&nbsp;<span class="key">If</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;string&nbsp;is&nbsp;not&nbsp;empty,&nbsp;so&nbsp;print&nbsp;the&nbsp;string&nbsp;and</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="com">''&nbsp;return&nbsp;error&nbsp;code&nbsp;0&nbsp;(success)</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Print</span>&nbsp;<span class="quo">&quot;You&nbsp;entered:&nbsp;&quot;</span>&nbsp;<span class="oth">&amp;</span>&nbsp;<span class="wrd">text</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Return</span>&nbsp;<span class="num">0</span><br />
<br />
<span class="key">End</span>&nbsp;<span class="key">Function</span><br />
<br />
<span class="com">''&nbsp;call&nbsp;main()&nbsp;and&nbsp;return&nbsp;the&nbsp;error&nbsp;code&nbsp;to&nbsp;the&nbsp;OS</span><br />
<span class="key">End</span>&nbsp;<span class="wrd">main</span><span class="oth">()</span><br />
</div></tt><br />
<br \>
</div><div class="fb_sect_title">Differences from QB</div><div class="fb_sect_cont"><br \>
<ul><li> The END statement supports specifying a custom return value to be returned to the operating system.<br \>
<br \>
</ul></div><div class="fb_sect_title">See also</div><div class="fb_sect_cont"><br \>
<ul><li> <tt><a href="KeyPgEndblock.html">End (Block)</a></tt><br \>
<li> <tt><a href="KeyPgReturn.html">Return (From Procedure)</a></tt><br \>
<li> <tt><a href="KeyPgReturnGosub.html">Return (From Gosub)</a></tt><br \>
<br \>
</ul></div>
</div>
</div> 
</div> 
</body>
</html>
