<html>
<head>
<title>ScreenRes</title>
<link rel="stylesheet" type="text/css" href="style.css">
<meta charset="UTF-8">
</head>
<body>
<div id="fb_body_wrapper">
<div id="fb_tab">
<div id="fb_tab_l">ScreenRes</div>
<div id="fb_tab_r">&nbsp;<a href="00index.html"><img src="images/fblogo_mini.gif" /></a></div> 
</div> 
<div id="fb_pg_wrapper">
<div id="fb_pg_body">
	Initializes a graphics mode by specifying horizontal and vertical resolution<br \>
<br \>
<div class="fb_sect_title">Syntax</div><div class="fb_sect_cont"><tt><br \>
<a href="KeyPgDeclare.html">Declare</a> <a href="KeyPgFunction.html">Function</a> <b>ScreenRes</b> ( <a href="KeyPgByval.html">ByVal</a> <i>width</i> <a href="KeyPgAs.html">As</a> <a href="KeyPgLong.html">Long</a>, <a href="KeyPgByval.html">ByVal</a> <i>height</i> <a href="KeyPgAs.html">As</a> <a href="KeyPgLong.html">Long</a>, <a href="KeyPgByval.html">ByVal</a> <i>depth</i> <a href="KeyPgAs.html">As</a> <a href="KeyPgLong.html">Long</a> = 8, <a href="KeyPgByval.html">ByVal</a> <i>num_pages</i> <a href="KeyPgAs.html">As</a> <a href="KeyPgLong.html">Long</a> = 1, <a href="KeyPgByval.html">ByVal</a> <i>flags</i> <a href="KeyPgAs.html">As</a> <a href="KeyPgLong.html">Long</a> = 0, <a href="KeyPgByval.html">ByVal</a> <i>refresh_rate</i> <a href="KeyPgAs.html">As</a> <a href="KeyPgLong.html">Long</a> = 0 ) <a href="KeyPgAs.html">As</a> <a href="KeyPgLong.html">Long</a><br \>
 </tt><br \>
</div><div class="fb_sect_title">Usage</div><div class="fb_sect_cont"><tt><br \>
<b>ScreenRes</b> <i>width</i>, <i>height</i> [, [<i>depth</i>] [, [<i>num_pages</i>] [, [<i>flags</i>] [, <i>refresh_rate</i> ]]]]<br \>
<i>result</i> = <b>ScreenRes</b>( <i>width</i>, <i>height</i> [, [<i>depth</i>] [, [<i>num_pages</i>] [, [<i>flags</i>] [, <i>refresh_rate</i> ]]]] )<br \>
</tt><br \>
</div><div class="fb_sect_title">Parameters</div><div class="fb_sect_cont"><br \>
<tt><i>width</i></tt>, <tt><i>height</i></tt><br \>
<div class="fb_indent">The display width and height, respectively. For fullscreen mode, the user should check the availability of the resolution using <tt><a href="KeyPgScreenlist.html">ScreenList</a></tt>.<br \>
</div><tt><i>depth</i></tt><br \>
<div class="fb_indent">The color depth in bits per pixel. Valid color depths are: <tt>1</tt>, <tt>2</tt>, <tt>4</tt>, <tt>8</tt>, <tt>16</tt> and <tt>32</tt>.  Values of <tt>15</tt> and <tt>24</tt> are also allowed as aliases for <tt>16</tt> and <tt>32</tt>, respectively.  If omitted, the default is 8 bits per pixel.  8 bits and below will give a palette image.  The default palette will be the first <tt>2 <a href="KeyPgOpExponentiate.html">^</a> <i>depth</i></tt> colors of the 256-color palette used in <tt><a href="KeyPgScreengraphics.html">Screen</a> 13</tt>.<br \>
</div><tt><i>num_pages</i></tt><br \>
<div class="fb_indent">The number of video pages to create, defaults to <tt>1</tt>. (see <tt><a href="KeyPgScreengraphics.html">Screen</a></tt>)<br \>
</div><tt><i>flags</i></tt><br \>
<div class="fb_indent">Used to set various properties of the screen, including fullscreen mode and graphics driver priority. (see the standard header "fbgfx.bi" for available flags)<br \>
</div><tt><i>refresh_rate</i></tt><br \>
<div class="fb_indent">The desired refresh rate of the screen, only has an effect for fullscreen modes, and some systems and drivers only. Defaults to an appropriate value, invalid refresh rates will be ignored.<br \>
<br \>
</div></div><div class="fb_sect_title">Return Value</div><div class="fb_sect_cont"><br \>
Returns zero (<tt>0</tt>) if successful, or a non-zero error code to indicate a failure. <i><a href="ProPgErrorHandling.html">(throws a runtime error)</a></i> (???)<br \>
<br \>
</div><div class="fb_sect_title">Description</div><div class="fb_sect_cont"><br \>
<tt><b>ScreenRes</b></tt> tells the compiler to link the GfxLib and initializes a QB-only, QB-on-GUI or OpenGL graphics mode, depending on the <tt><i>flags</i></tt> setting.<br \>
<br \>
<tt><b>ScreenRes</b></tt>  clears the created window or the full screen. In non-fullscreen modes, the resolution does not have to match any resolution of the graphics card. Resolutions like <tt>555x111</tt> are possible, GfxLib will create a window of such size. See the page <a href="GfxLib.html">GfxLib overview</a> for DOS issues.<br \>
<br \>
The font size in <tt><b>ScreenRes</b></tt> modes is set to 8x8 by default.  This can be changed by setting the number of text rows/columns, using the <tt><a href="KeyPgWidth.html">Width</a></tt> function.<br \>
<br \>
In QB-only modes a dumb window or fullscreen resolution is set, one or more buffers in standard memory are created,  console commands are redirected to their graphic versions, a <a href="GfxDefPalettes.html">default palette</a> is set and an automatic screen refresh thread is started. QB-like graphics and console statements can be used.  <br \>
<br \>
 In QB-on-GUI modes one or more buffers in standard memory are created,  console commands are redirected to their graphic versions and a <a href="GfxDefPalettes.html">default palette</a> is set. QB-like  graphics and console statements can be used.  It is up to the user to create a window and to refresh it with the contents of the graphics buffers.<br \>
<br \>
In OpenGL modes a dumb window or fullscreen resolution is set, one or more buffers in standard memory are created, and the system's OpenGL library is initialized. From here only OpenGL commands can be used to write to the graphics buffer. QB-like and console commands are forbidden. This mode allows to initialize OpenGL in a portable way.<br \>
<br \>
The error code returned by <tt><b>ScreenRes</b></tt> can be checked using <tt><a href="KeyPgErr.html">Err</a></tt> in the next line. The function version of  <tt><b>ScreenRes</b></tt> returns directly the error code as a 32 bit <tt><a href="KeyPgLong.html">Long</a></tt>.<br \>
<br \>
<u><tt>flags</tt> details:</u><br \>
<br \>
If flags are omitted, FreeBASIC uses QB-compatible graphics in windowed (except in DOS) mode.  These constants are defined in <tt>fbgfx.bi</tt>.  In the <i><a href="CompilerOptlang.html">-lang fb</a></i> dialect, these constants are part of the <tt>FB</tt> <tt><a href="KeyPgNamespace.html">Namespace</a></tt>. Their values can be combined to form a mask using <tt><a href="KeyPgOpOr.html">Operator Or</a></tt>. Note that most of the flags are not supported in DOS.<br \>
<br \>
Available flags:<br \>
<br \>
<u>graphic mode flags</u><br \>
<div class="fb_indent"><tt>GFX_NULL</tt>: Starts a QB-on-GUI graphics mode.  It creates a graphics buffer but not a window.  User must implement the window, the events manager and refresh the screen as needed.  This mode allows to mix FreeBASIC drawing functions with API-driven windows.  Alternatively, it allows to process graphics (for example files) without making it visible on the screen, even in a purely console application.  This flag overrides all other mode flags.  See an <a href="SrcPgGfxNull.html">Example of GFX_NULL</a> in Windows.<br \>
<tt>GFX_OPENGL</tt>: Initializes OpenGL to draw in a dumb window. FreeBASIC graphic functions can't be used.  The screen is not automatically updated, <tt><a href="KeyPgFlip.html">Flip</a></tt> must be used.  This option provides a portable way to initialize the OpenGL Library.<br \>
If none of the above options is specified, FreeBASIC enters the QB-only graphics mode: it creates a buffer and a dumb window and sets a thread that automatically updates the screen and manages keyboard and mouse.  The FreeBASIC drawing functions can be used.<br \>
<br \>
</div><u>window mode flags</u><br \>
<div class="fb_indent">Window mode flags are meaningless if  <tt>GFX_NULL</tt> mode is used<br \>
<tt>GFX_WINDOWED</tt>: If windowed mode is supported, FreeBASIC opens a window of the requested size in the present desktop<br \>
<tt>GFX_FULLSCREEN</tt>: The graphics card switch mode is switched to the requested mode and color depth and OS fullscreen mode is used.  If the mode is not available in the present card FreeBASIC switches to windowed mode.<br \>
If <tt>GFX_FULLSCREEN</tt> is not specified, the behavior for <tt>GFX_WINDOWED</tt> is assumed.<br \>
<tt>GFX_NO_SWITCH</tt>: Prevents the user from changing to fullscreen or to windowed mode by pressing Alt-Enter.<br \>
<tt>GFX_NO_FRAME</tt>: Creates a window without a border.<br \>
<tt>GFX_SHAPED_WINDOW</tt>: Creates transparent regions wherever RGBA(255, 0, 255, 0) is drawn on the screen.<br \>
<tt>GFX_ALWAYS_ON_TOP</tt>: Creates a window that stays always on top.<br \>
<br \>
</div><u>option flags</u><br \>
<div class="fb_indent">Flags working in any mode, they activate special behaviors<br \>
<tt>GFX_ALPHA_PRIMITIVES</tt>: Tells the graphics library to enable alpha channel support for all drawing primitives. This means the alpha specified in a color value (via either the <tt><a href="KeyPgRgba.html">RGBA</a></tt> macro or direct color in the form <tt>&h<i>AARRGGBB</i></tt>) will always be used by all primitives.<br \>
<tt>GFX_HIGH_PRIORITY</tt>: Tells the graphics library to enable a higher priority for graphics processing.  Only has an effect on <tt>gdi</tt> and <tt>DirectX</tt> drivers on Win32 platform and <tt>Direct2D</tt> added on new platforms.<br \>
<br \>
</div><u>OpenGL Buffer flags</u><br \>
<div class="fb_indent">These flags work only in OpenGL graphics mode, must be combined with GFX_OPENGL<br \>
<tt>GFX_STENCIL_BUFFER</tt>: Forces OpenGL to use Stencil buffer <br \>
<tt>GFX_ACCUMULATION_BUFFER</tt>: Forces OpenGL to use Accumulation buffer<br \>
<tt>GFX_MULTISAMPLE</tt>: Requests fullscreen anti-aliasing through the ARB_multisample extension<br \>
<br \>
</div>Depending on whether the <tt>GFX_FULLSCREEN</tt> parameter is present or not, <tt><b>Screen</b></tt> will try to set the specified video mode in fullscreen or windowed mode, respectively.  If fullscreen mode is set and the system cannot set specified mode in fullscreen, it will try in windowed mode. If windowed mode is set and the system fails to open a window for specified mode, it will try fullscreen.  If everything fails, <tt><b>Screen</b></tt> will have no effect and execution will resume from the statement following the <tt><b>Screen</b></tt> call.  You should take care of checking if a graphics mode has been set or not, and behave accordingly; a way to check if <tt><b>Screen</b></tt> is successful is to test the return value of the <tt><a href="KeyPgScreenptr.html">ScreenPtr</a></tt> function; see its page for details.<br \>
<br \>
<u>Graphics mode console</u><br \>
Console commands (<tt><a href="KeyPgLocate.html">Locate</a></tt>, <tt><a href="KeyPgPrint.html">Print</a></tt>), input can be used both with standard QB <tt><b>Screen</b></tt> modes and with the extended ones too, provided the standard color depth is not modified by using the second argument of <tt><b>Screen</b></tt>. Where the table says more than one text resolution is available for the text mode, the required text resolution can be requested by using <tt><a href="KeyPgWidth.html">Width</a></tt>.  Any characters <tt><a href="KeyPgPrint.html">Print</a></tt>ed will erase the background around them; it does not use a transparent background.<br \>
<br \>
</div><div class="fb_sect_title">Example</div><div class="fb_sect_cont"><br \>
<tt><div class="freebasic">
<span class="com">'&nbsp;Set&nbsp;the&nbsp;screen&nbsp;mode&nbsp;to&nbsp;320*200,&nbsp;with&nbsp;8&nbsp;bits&nbsp;per&nbsp;pixel</span><br />
<span class="key">ScreenRes</span>&nbsp;<span class="num">320</span><span class="oth">,</span>&nbsp;<span class="num">200</span><span class="oth">,</span>&nbsp;<span class="num">8</span><br />
<br />
<span class="com">'&nbsp;Draw&nbsp;color&nbsp;bands&nbsp;in&nbsp;a&nbsp;diagonal&nbsp;pattern&nbsp;over&nbsp;the&nbsp;whole&nbsp;screen</span><br />
<span class="key">For</span>&nbsp;<span class="wrd">y</span>&nbsp;<span class="key">As</span>&nbsp;<span class="key">Integer</span>&nbsp;<span class="oth">=</span>&nbsp;<span class="num">0</span>&nbsp;<span class="key">To</span>&nbsp;<span class="num">200</span><span class="oth">-</span><span class="num">1</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">For</span>&nbsp;<span class="wrd">x</span>&nbsp;<span class="key">As</span>&nbsp;<span class="key">Integer</span>&nbsp;<span class="oth">=</span>&nbsp;<span class="num">0</span>&nbsp;<span class="key">To</span>&nbsp;<span class="num">320</span><span class="oth">-</span><span class="num">1</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">PSet</span>&nbsp;<span class="oth">(</span><span class="wrd">x</span><span class="oth">,</span><span class="wrd">y</span><span class="oth">),(</span><span class="wrd">x</span>&nbsp;<span class="oth">+</span>&nbsp;<span class="wrd">y</span><span class="oth">)</span>&nbsp;<span class="key">And</span>&nbsp;<span class="num">255</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="key">Next</span>&nbsp;<span class="wrd">x</span><br />
<span class="key">Next</span>&nbsp;<span class="wrd">y</span><br />
<br />
<span class="com">'&nbsp;Display&nbsp;the&nbsp;text&nbsp;&quot;Hello&nbsp;World!!&quot;&nbsp;over&nbsp;the&nbsp;lines&nbsp;we've&nbsp;drawn,&nbsp;in&nbsp;the&nbsp;top-left&nbsp;hand&nbsp;corner</span><br />
<span class="key">Print</span>&nbsp;<span class="quo">&quot;Hello&nbsp;world!!&quot;</span><br />
<br />
<span class="com">'&nbsp;Keep&nbsp;the&nbsp;window&nbsp;open&nbsp;until&nbsp;the&nbsp;user&nbsp;presses&nbsp;a&nbsp;key</span><br />
<span class="key">Sleep</span><br />
</div></tt><br />
<br \>
</div><div class="fb_sect_title">Platform Differences</div><div class="fb_sect_cont"><br \>
<ul><li> In DOS, Windowing and OpenGL related switches are not available, and other issues, see <a href="GfxLib.html">GfxLib overview</a><br \>
<br \>
</ul></div><div class="fb_sect_title">Dialect Differences</div><div class="fb_sect_cont"><br \>
<ul><li> Not available in the <i><a href="CompilerOptlang.html">-lang qb</a></i> dialect unless referenced with the alias <tt><b>__Screenres</b></tt>.<br \>
<br \>
</ul></div><div class="fb_sect_title">Differences from QB</div><div class="fb_sect_cont"><br \>
<ul><li> New to FreeBASIC<br \>
<br \>
</ul></div><div class="fb_sect_title">See also</div><div class="fb_sect_cont"><br \>
<ul><li> <tt><a href="KeyPgScreengraphics.html">Screen</a></tt> The QB-like way to set graphics mode<br \>
<li> <tt><a href="KeyPgScreenlist.html">ScreenList</a></tt> Check display modes available for FB GfxLib to use<br \>
<li> <tt><a href="KeyPgScreencontrol.html">ScreenControl</a></tt> Select driver and more <br \>
<li> <tt><a href="KeyPgScreenlock.html">ScreenLock</a></tt><br \>
<li> <tt><a href="KeyPgScreenunlock.html">ScreenUnlock</a></tt><br \>
<li> <tt><a href="KeyPgScreenptr.html">ScreenPtr</a></tt> Semi-low level access<br \>
<li> <tt><a href="KeyPgScreenset.html">ScreenSet</a></tt><br \>
<li> <tt><a href="KeyPgScreencopy.html">ScreenCopy</a></tt><br \>
<li> <tt><a href="KeyPgScreeninfo.html">ScreenInfo</a></tt><br \>
<li> <tt><a href="KeyPgScreenglproc.html">ScreenGLProc</a></tt><br \>
<li> <tt><a href="GfxInternalFormats.html">Internal pixel formats</a></tt><br \>
<li> <tt>FaqPggfxlib2</tt><br \>
<br \>
</ul><br \>
</div>
</div>
</div> 
</div> 
</body>
</html>
