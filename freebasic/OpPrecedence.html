<html>
<head>
<title>Operator Precedence</title>
<link rel="stylesheet" type="text/css" href="style.css">
<meta charset="UTF-8">
</head>
<body>
<div id="fb_body_wrapper">
<div id="fb_tab">
<div id="fb_tab_l">Operator Precedence</div>
<div id="fb_tab_r">&nbsp;<a href="00index.html"><img src="images/fblogo_mini.gif" /></a></div> 
</div> 
<div id="fb_pg_wrapper">
<div id="fb_pg_body">
	<div class="fb_indent">When several operations occur in a single expression, each operation is evaluated and resolved in a predetermined order. This is called the order of operation or operator precedence. <br \>
<br \>
If an operator in an expression has a higher precedence, it is evaluated before an operator of lower precedence. <br \>
<br \>
If operators have equal precedence, they then are evaluated in the order in of their associativity.  The associativity may be Left-to-Right or Right-to-Left order.<br \>
<br \>
As a rule, binary operators (such as <tt><a href="KeyPgOpAdd.html">+</a></tt>, <tt><a href="KeyPgOpExponentiate.html">^</a></tt>) and unary postfix operators (such as <tt><a href="KeyPgOpArrayIndex.html">()</a></tt>, <tt><a href="KeyPgOpPtrMemberAccess.html">-&gt;</a></tt>) are evaluated Left-to-Right, and unary prefix operators (such as <tt><a href="KeyPgOpNot.html">Not</a></tt>, <tt><a href="KeyPgOpAt.html">@</a></tt>) are evaluated Right-to-Left.<br \>
<br \>
Operators that have an associativity of "N/A" indicate that there is no expression in which the operator can be used where its order of operation would need to be checked, either by precedence or by associativity.  Function-like operators such as <tt><a href="KeyPgCast.html">Cast</a></tt> are always the first to be evaluated due to the parentheses required in their syntax.  And assignment operators are always the last to be evaluated.<br \>
<br \>
Parentheses can be used to override operator precedence. Operations within parentheses are performed before other operations. Within the parentheses normal operator precedence is used.<br \>
<br \>
The following table lists operator precedence from highest to lowest.  Breaks in the table mark the groups of operators having equal precedence.<br \>
<br \>
</div><b>Highest Precedence</b><br \>
<div class="fb_indent"><div class="fb_table"><table><tr><td>Operator</td><td>Description</td><td>Associativity</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>CAST</td><td>Type Conversion</td><td>N/A</td></tr><tr><td>PROCPTR</td><td>Procedure pointer</td><td>N/A</td></tr><tr><td>STRPTR</td><td>String pointer</td><td>N/A</td></tr><tr><td>VARPTR</td><td>Variable pointer</td><td>N/A</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>[]</td><td>String index</td><td>Left-to-Right</td></tr><tr><td>[]</td><td>Pointer index</td><td>Left-to-Right</td></tr><tr><td>()</td><td>Array index</td><td>Left-to-Right</td></tr><tr><td>()</td><td>Function Call</td><td>Left-to-Right</td></tr><tr><td>.</td><td>Member access</td><td>Left-to-Right</td></tr><tr><td>-&gt;</td><td>Pointer to member access</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>@</td><td>Address of</td><td>Right-to-Left</td></tr><tr><td>*</td><td>Value of</td><td>Right-to-Left</td></tr><tr><td>New</td><td>Allocate Memory</td><td>Right-to-Left</td></tr><tr><td>Delete</td><td>Deallocate Memory</td><td>Right-to-Left</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>^</td><td>Exponentiate</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>-</td><td>Negate</td><td>Right-to-Left</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>*</td><td>Multiply</td><td>Left-to-Right</td></tr><tr><td>/</td><td>Divide</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>\</td><td>Integer divide</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>MOD</td><td>Modulus</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>SHL</td><td>Shift left</td><td>Left-to-Right</td></tr><tr><td>SHR</td><td>Shift right</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>+</td><td>Add</td><td>Left-to-Right</td></tr><tr><td>-</td><td>Subtract</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&amp;</td><td>String concatenation</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>Is</td><td>Run-time type information check</td><td>N/A</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>=</td><td>Equal</td><td>Left-to-Right</td></tr><tr><td>&lt;&gt;</td><td>Not equal</td><td>Left-to-Right</td></tr><tr><td>&lt;</td><td>Less than</td><td>Left-to-Right</td></tr><tr><td>&lt;=</td><td>Less than or equal</td><td>Left-to-Right</td></tr><tr><td>&gt;=</td><td>Greater than or equal</td><td>Left-to-Right</td></tr><tr><td>&gt;</td><td>Greater than</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>NOT</td><td>Complement</td><td>Right-to-Left</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>AND</td><td>Conjunction</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>OR</td><td>Inclusive Disjunction</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>EQV</td><td>Equivalence</td><td>Left-to-Right</td></tr><tr><td>IMP</td><td>Implication</td><td>Left-to-Right</td></tr><tr><td>XOR</td><td>Exclusive Disjunction</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>ANDALSO</td><td>Short Circuit Conjunction</td><td>Left-to-Right</td></tr><tr><td>ORELSE</td><td>Short Circuit Inclusive Disjunction</td><td>Left-to-Right</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>=[&gt;]</td><td>Assignment</td><td>N/A</td></tr><tr><td>&amp;=</td><td>Concatenate and Assign</td><td>N/A</td></tr><tr><td>+=</td><td>Add and Assign</td><td>N/A</td></tr><tr><td>-=</td><td>Subtract and Assign</td><td>N/A</td></tr><tr><td>*=</td><td>Multiply and Assign</td><td>N/A</td></tr><tr><td>/=</td><td>Divide and Assign</td><td>N/A</td></tr><tr><td>\=</td><td>Integer Divide and Assign</td><td>N/A</td></tr><tr><td>^=</td><td>Exponentiate and Assign</td><td>N/A</td></tr><tr><td>MOD=</td><td>Modulus and Assign</td><td>N/A</td></tr><tr><td>AND=</td><td>Conjunction and Assign</td><td>N/A</td></tr><tr><td>EQV=</td><td>Equivalence and Assign</td><td>N/A</td></tr><tr><td>IMP=</td><td>Implication and Assign</td><td>N/A</td></tr><tr><td>OR=</td><td>Inclusive Disjunction and Assign</td><td>N/A</td></tr><tr><td>XOR=</td><td>Exclusive Disjunction and Assign</td><td>N/A</td></tr><tr><td>SHL=</td><td>Shift Left and Assign</td><td>N/A</td></tr><tr><td>SHR=</td><td>Shift Right and Assign</td><td>N/A</td></tr><tr><td>LET</td><td>Assignment</td><td>N/A</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>LET()</td><td>Assignment</td><td>N/A</td></tr></table></div><br \>
<br \>
</div>In some cases, the order of precedence can cause confusing or counter-intuitive results.  Here are some examples:<br \>
<tt><div class="freebasic">
<span class="com">''&nbsp;trying&nbsp;to&nbsp;raise&nbsp;a&nbsp;negated&nbsp;number&nbsp;to&nbsp;a&nbsp;power</span><br />
<span class="oth">-</span><span class="num">2</span>&nbsp;<span class="oth">^</span>&nbsp;<span class="num">2</span><br />
<span class="wrd">Desired</span>&nbsp;<span class="wrd">result</span><span class="oth">:</span>&nbsp;<span class="oth">(-</span><span class="num">2</span><span class="oth">)</span>&nbsp;<span class="oth">^</span>&nbsp;<span class="num">2</span>&nbsp;<span class="oth">=</span>&nbsp;<span class="num">4</span><br />
<span class="wrd">Actual</span>&nbsp;<span class="wrd">result</span><span class="oth">:</span>&nbsp;&nbsp;&nbsp;<span class="oth">-(</span><span class="num">2</span>&nbsp;<span class="oth">^</span>&nbsp;<span class="num">2</span><span class="oth">)</span>&nbsp;<span class="oth">=</span>&nbsp;<span class="oth">-</span><span class="num">4</span><br />
<br />
<span class="com">''&nbsp;trying&nbsp;to&nbsp;test&nbsp;a&nbsp;bit&nbsp;in&nbsp;a&nbsp;number</span><br />
<span class="wrd">n</span>&nbsp;<span class="key">And</span>&nbsp;<span class="num">1</span>&nbsp;&nbsp;<span class="oth">&lt;&gt;</span>&nbsp;&nbsp;<span class="num">0</span><br />
<span class="wrd">Desired</span>&nbsp;<span class="wrd">result</span><span class="oth">:</span>&nbsp;<span class="oth">(</span><span class="wrd">n</span>&nbsp;<span class="key">And</span>&nbsp;<span class="num">1</span><span class="oth">)</span>&nbsp;<span class="oth">&lt;&gt;</span>&nbsp;<span class="num">0</span><br />
<span class="wrd">Actual</span>&nbsp;<span class="wrd">result</span><span class="oth">:</span>&nbsp;&nbsp;&nbsp;<span class="wrd">n</span>&nbsp;<span class="key">And</span>&nbsp;<span class="oth">(</span><span class="num">1</span>&nbsp;<span class="oth">&lt;&gt;</span>&nbsp;<span class="num">0</span><span class="oth">)</span><br />
<br />
<span class="com">''&nbsp;trying&nbsp;to&nbsp;shift&nbsp;a&nbsp;number&nbsp;by&nbsp;n+1&nbsp;bits</span><br />
<span class="wrd">a</span>&nbsp;<span class="key">Shl</span>&nbsp;<span class="wrd">n</span><span class="oth">+</span><span class="num">1</span><br />
<span class="wrd">Desired</span>&nbsp;<span class="wrd">result</span><span class="oth">:</span>&nbsp;<span class="wrd">a</span>&nbsp;<span class="key">Shl</span>&nbsp;<span class="oth">(</span><span class="wrd">n</span>&nbsp;<span class="oth">+</span>&nbsp;<span class="num">1</span><span class="oth">)</span><br />
<span class="wrd">Actual</span>&nbsp;<span class="wrd">result</span><span class="oth">:</span>&nbsp;<span class="oth">(</span><span class="wrd">a</span>&nbsp;<span class="key">Shl</span>&nbsp;<span class="wrd">n</span><span class="oth">)</span>&nbsp;<span class="oth">+</span>&nbsp;<span class="num">1</span></div></tt><br />
For expressions where the operator precedence may be ambiguous, it is recommended to wrap parts of the expression in parentheses, in order both to minimise the possibility of error and to aid comprehension for people reading the code.<br \>
<br \>
<div class="fb_sect_title">See also</div><div class="fb_sect_cont"><br \>
<ul><li> <a href="CatPgOperators.html">Operators</a><br \>
<br \>
</ul></div>
</div>
</div> 
</div> 
</body>
</html>
